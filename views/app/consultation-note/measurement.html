<ion-view class="category-list-view">
    <ion-nav-title>
        <span>Measurement</span>
    </ion-nav-title>
    <form name="addMeasureForm" id="addMeasureForm" enctype="multipart/form-data" novalidate >
        <ion-content>
            <input type="hidden" ng-model="record.recordUser" value="{{userId}}" name="userId" />
            <input type="hidden" value="{{catId}}" name="rectype" />
            <input type="hidden" ng-model="record.recordPatient" value="{{patientId}}" name="patient" />
            <input type="hidden" ng-model="record.recordPatient" value="{{doctorId}}" name="doctor" />
            <input type="hidden" ng-model="record.recordCat" value="{{record.id}}" name="recordCat" />
            <div class="tabcon2">
                <div ng-repeat="record in records">
                    <div class="item item-divider">{{record.category}}</div>
                    <div ng-repeat="field in fields[$index]">
                        <div ng-if="field.field_types.value == 'number'">
                            <label class="item item-input">
                                <input type="number" placeholder="{{field.field}}" name="{{field.name}}">
                            </label>
                        </div>
                        <div ng-if="field.field_types.value == 'select'">
                            <label class="item item-input item-select">
                                <div class="input-label">{{field.field}}</div>
                                <select class="cselect" ng-init="selData = (field.field_values).split(',')" name="{{field.name}}">
                                    <option value="" ng-selected="1"> Select {{field.field}}</option>
                                    <option ng-repeat="sel in selData" value="{{sel}}"> {{sel}} </option>
                                </select>
                            </label>
                        </div>
                        <div ng-if="field.field_types.value == 'text'">
                            <label class="item item-input">
                                <input type="text" placeholder="{{field.field}}" name="{{field.name}}">
                            </label>
                        </div>
                        <div ng-if="field.field_types.value == 'date'">
                            <label class="item item-input">
                                <input type="text" placeholder="{{field.field}}" name="{{field.name}}">
                            </label>
                        </div>
                    </div>
                </div>  
            </div>
        </ion-content>
        <div class="fixedbar">
            <a class="button btn-delete" ui-sref="app.consultations-note({appId: appId})" ><i class="ion-close"></i> Cancel</a>
            <a class="button btn-add" ng-click="saveMeasurements()" ><i class="ion-checkmark"></i> Save</a>
        </div>
    </form>
</ion-view>